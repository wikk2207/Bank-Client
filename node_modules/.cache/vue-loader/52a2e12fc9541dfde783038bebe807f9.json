{"remainingRequest":"/usr/wiksa/PWR/VSem/bezpieka-serwer/bank2/Bank-Client/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/wiksa/PWR/VSem/bezpieka-serwer/bank2/Bank-Client/client/src/components/LoginPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/wiksa/PWR/VSem/bezpieka-serwer/bank2/Bank-Client/client/src/components/LoginPage.vue","mtime":1574609061697},{"path":"/usr/wiksa/PWR/VSem/bezpieka-serwer/bank2/Bank-Client/client/node_modules/vuetify-loader/lib/loader.js","mtime":1567240333000},{"path":"/usr/wiksa/PWR/VSem/bezpieka-serwer/bank2/Bank-Client/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/wiksa/PWR/VSem/bezpieka-serwer/bank2/Bank-Client/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IHNoYTNfNTEyIH0gZnJvbSAianMtc2hhMyI7CmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo0MDAwIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5QYWdlIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgIHNuYWNrYmFyOiBmYWxzZSwKICAgICAgdGltZW91dDogMzAwMCwKICAgICAgc25hY2tUZXh0OiAiIiwKICAgICAgc2hvd1Bhc3N3b3JkOiBmYWxzZSwKICAgICAgaW5wdXQ6IHsKICAgICAgICBsb2dpbjogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVxdWlyZWQ6IHZhbHVlID0+IHsKICAgICAgICAgIHJldHVybiAhIXZhbHVlIHx8ICJQb2xlIG5pZSBtb8W8ZSBiecSHIHB1c3RlIjsKICAgICAgICB9LAogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgaGFuZGxlUHJlc3NMb2dpbigpIHsKICAgICAgICBpZiAoCiAgICAgICAgdGhpcy5pbnB1dC5sb2dpbiA9PT0gIiIgfHwKICAgICAgICB0aGlzLmlucHV0LnBhc3N3b3JkID09PSAiIiAKICAgICAgKSB7CiAgICAgICAgdGhpcy5zbmFja1RleHQgPSAiUG9sYSBuaWUgbW9nxIUgYnnEhyBwdXN0ZSI7CiAgICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHBhc3MgPSBhd2FpdCBzaGEzXzUxMih0aGlzLmlucHV0LnBhc3N3b3JkICsgdGhpcy5pbnB1dC5sb2dpbik7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KCIvYXBpL2xvZ2luIiwgewogICAgICAgICAgICBsb2dpbjogdGhpcy5pbnB1dC5sb2dpbiwKICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3MKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigKICAgICAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyAhPSAyMDEpIHsKICAgICAgICAgICAgICAgIHRoaXMuc25hY2tUZXh0ID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc25hY2tUZXh0ID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvIjsKICAgICAgICAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi8KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovCiAgICAgICAgICAgIH0KICAgICAgICAgICk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVQcmVzc1JlZ2lzdGVyKCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvcmVnaXN0ZXIiOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["LoginPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app id=\"inspire\">\n    <v-content>\n      <v-container class=\"fill-height\" fluid>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" sm=\"8\" md=\"4\">\n            <v-card class=\"elevation-12\">\n              <v-card-text>\n                <v-form>\n                  <v-text-field\n                    v-model=\"input.login\"\n                    label=\"Login\"\n                    name=\"login\"\n                    type=\"text\"\n                    :rules=\"[rules.required]\"\n                  />\n                  <v-text-field\n                    v-model=\"input.password\"\n                    id=\"password\"\n                    label=\"Hasło\"\n                    name=\"password\"\n                    :append-icon=\"showPassword ? 'visibility' : 'visibility_off'\"\n                    :type=\"showPassword ? 'text' : 'password'\"\n                    :rules=\"[rules.required]\"\n                    @click:append=\"showPassword = !showPassword\"\n                  />\n                </v-form>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer />\n                <v-btn text small @click=\"handlePressForgetPassword()\">Nie pamiętam hasła</v-btn>\n                <v-btn @click=\"handlePressLogin()\" color=\"primary\">Zaloguj się</v-btn>\n                <v-btn text @click=\"handlePressRegister()\" class=\"btn-register\">Zarejestruj się</v-btn>\n              </v-card-actions>\n            </v-card>\n            <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\n              {{ snackText }}\n              <v-btn color=\"blue\" text @click=\"snackbar = false\">Zamknij</v-btn>\n            </v-snackbar>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { sha3_512 } from \"js-sha3\";\naxios.defaults.baseURL = \"http://localhost:4000\";\n\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n       snackbar: false,\n      timeout: 3000,\n      snackText: \"\",\n      showPassword: false,\n      input: {\n        login: \"\",\n        password: \"\"\n      },\n      rules: {\n        required: value => {\n          return !!value || \"Pole nie może być puste\";\n        },\n      }\n    };\n  },\n  methods: {\n    async handlePressLogin() {\n        if (\n        this.input.login === \"\" ||\n        this.input.password === \"\" \n      ) {\n        this.snackText = \"Pola nie mogą być puste\";\n        this.snackbar = true;\n      } else {\n        var pass = await sha3_512(this.input.password + this.input.login);\n        axios\n          .post(\"/api/login\", {\n            login: this.input.login,\n            password: pass\n          })\n          .then(\n            response => {\n              if (response.data.status != 201) {\n                this.snackText = response.data.message;\n                this.snackbar = true;\n              } else {\n                this.snackText = response.data.message;\n                this.snackbar = true;\n                setTimeout(function() {\n                  window.location.href = \"/\";\n                }, 3000);\n              }\n            },\n            error => {\n              /* eslint-disable no-console */\n              console.log(error);\n              /* eslint-enable no-console */\n            }\n          );\n      }\n    },\n    handlePressRegister() {\n      window.location.href = \"/register\";\n    }\n  }\n};\n</script>"]}]}